// studio - views - course users
// ====================

body.course.users {

  // LAYOUT: page
  .content-primary, .content-supplementary {
    @include box-sizing(border-box);
    float: left;
  }

  .content-primary {
    width: flex-grid(9, 12);
    margin-right: flex-gutter();
  }

  .content-supplementary {
    width: flex-grid(3, 12);
  }

  // ELEM: content
  .content {

    .introduction {
      @extend .t-copy-sub1;
      margin: 0 0 ($baseline*2) 0;
    }
  }


  // ELEM: new user form
  .wrapper-create-user {

    &.is-shown {
      height: ($baseline*15);
    }
  }

  // ELEM: listing of users
  .user-list, .user-item, .item-metadata, .item-actions {
    @include box-sizing(border-box);
  }

  .user-list {

    .user-item {
      @extend .ui-window;
      @include clearfix();
      position: relative;
      width: flex-grid(9, 9);
      margin: 0 0 ($baseline/2) 0;
      padding: ($baseline*1.25) ($baseline*1.5) $baseline ($baseline*1.5);

      &:last-child {
        margin-bottom: 0;
      }

      .item-metadata, .item-actions {
        display: inline-block;
        vertical-align: middle;
      }

      // ELEM: item - flag
      .flag-role {
        @extend .ui-badge;
        color: $white;

        .msg-you {
          margin-left: ($baseline/5);
          opacity: 0.65;
          text-transform: none;
          font-weight: 500;
        }

        &:after {
          border-bottom-color: $black-t1;
        }

        &.flag-role-staff {
          background: $gray-l2;
        }

        &.flag-role-admin {
          background: $gray-d1;
        }
      }

      // ELEM: item - metadata
      .item-metadata {
        width: flex-grid(5, 9);
        margin-right: flex-gutter();

        .user-username, .user-email {
          display: inline-block;
          vertical-align: middle;
        }

        .user-username {
          @extend .t-title4;
          @include transition(color $tmg-f2 ease-in-out 0s);
          margin: 0 ($baseline/2) ($baseline/10) 0;
          color: $gray-d4;
          font-weight: 600;
        }

        .user-email {
          @extend .t-title6;
        }
      }

      // ELEM: item - actions
      .item-actions {
        width: flex-grid(4, 9);
        position: static; // nasty reset needed due to base.scss
        text-align: right;

        .action {
          display: inline-block;
          vertical-align: middle;
        }

        .action-role {
          margin-right: ($baseline/2);
        }

        .action-delete {

          // STATE: disabled
          &.is-disabled {
            opacity: 0.0;
            visibility: hidden;
            pointer-events: none;
          }
        }

        .delete {
          @extend .ui-btn-non;
        }

        // HACK: nasty reset needed due to base.scss
        .delete-button {
          margin-right: 0;
          float: none;
          color: inherit;
        }

        // ELEM: admin role controls
        .toggle-admin-role {

          &.add-admin-role {
            @include blue-button;
            @extend .t-action2;
            @include transition(all .15s);
            display: inline-block;
            padding: ($baseline/5) $baseline;
            font-weight: 600;
          }

          &.remove-admin-role {
            @include grey-button;
            @extend .t-action2;
            @include transition(all .15s);
            display: inline-block;
            padding: ($baseline/5) $baseline;
            font-weight: 600;
          }
        }

        .notoggleforyou {
          @extend .t-copy-sub2;
          color: $gray-l2;
        }
      }

      // STATE: hover
      &:hover {

        .user-username {
        }

        .user-email {

        }

        .item-actions {

        }
      }
    }
  }
}
